<div *ngIf="sample$ | async as sample" class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Sample Details</h2>
        <div>
            <button class="btn btn-primary me-2" (click)="editSample(sample.id)">
                <i class="bi bi-pencil-square"></i> Edit
            </button>
            <button class="btn btn-danger" (click)="deleteSample(sample.id)">
                <i class="bi bi-trash"></i> Delete
            </button>
        </div>
    </div>

    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <table class="table table-striped table-bordered">
                <tbody>
                <tr>
                    <th scope="row" class="col-3">Sample ID</th>
                    <td>{{ sample.id }}</td>
                </tr>
                <tr>
                    <th scope="row" class="col-3">Sample Name</th>
                    <td>{{ sample.name }}</td>
                </tr>
                <tr>
                    <th scope="row" class="col-3">Sample Type</th>
                    <td>{{ sample.type }}</td>
                </tr>
                <tr>
                    <th scope="row" class="col-3">Measurement ID</th>
                    <td>{{ sample.measurementId }}</td>
                </tr>
                <tr>
                    <th scope="row" class="col-3">Created By</th>
                    <td>{{ sample.createdBy }}</td>
                </tr>
                <tr>
                    <th scope="row" class="col-3">Created At</th>
                    <td>{{ sample.createdAt | date: 'medium' }}</td>
                </tr>
                <tr>
                    <th scope="row" class="col-3">Updated At</th>
                    <td>{{ sample.updatedAt | date: 'medium' }}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4>Spectral Data</h4>
        <button class="btn btn-primary" (click)="downloadSampleData(sample)">
            <i class="bi bi-download"></i> Download Spectral Data
        </button>
    </div>

    <div class="bg-light p-3 border rounded">
        <pre style="max-height: 300px; overflow-y: auto;">
            {{ JSON.parse(sample.spectralData) | json }}
        </pre>
    </div>
</div>
